{% extends '@!WebProfiler/Profiler/layout.html.twig' %}

{% block toolbar %}
	{% set icon %}
		{# this is the content displayed as a panel in the toolbar #}
		<svg xmlns="http://www.w3.org/2000/svg"> ... </svg>
		<span class="sf-toolbar-value">Legacy queries</span>
	{% endset %}

	{% set text %}
		{# this is the content displayed when hovering the mouse over
		   the toolbar panel #}
		<div class="sf-toolbar-info-piece">
			<b>Queries count</b>
			<span>{{ collector.count }}</span>
		</div>


	{% endset %}

	{# the 'link' value set to 'false' means that this panel doesn't
	   show a section in the web profiler #}
	{{ include('@WebProfiler/Profiler/toolbar_item.html.twig', { link: true }) }}
{% endblock %}

{% block menu %}
	{# This left-hand menu appears when using the full-screen profiler. #}
	<span class="label">
        <span class="icon"><img src="..." alt=""/></span>
        <strong>Legacy queries</strong>
    </span>
{% endblock %}


{% block panel %}
	{# Optional, for showing the most details. #}
	<h2>Legacy queries</h2>
	<table>
		<tr>
			<th>collector.count</th>
		</tr>

		<tr>
			<td>{{ collector.count }}</td>
		</tr>

		{% for query in collector.queries %}
			<tr>
				<td>
					{{ query.operation }}
					{% if query.details.time is defined %}({{ query.details.time }}s.){% endif %}
				</td>
				<td>{{ query.arguments }}</td>
			</tr>
		{% endfor %}
	</table>
{% endblock %}